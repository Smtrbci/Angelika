<!doctype html>
<html lang="ru">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–î–ª—è –ê–Ω–∂–µ–ª–∏–∫–∏ ‚Äî –†–µ–∂–∏–º —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è üåô</title>
    <meta name="description" content="–û–±—ä—è—Ç–∏–µ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏, —Å–ø–æ–∫–æ–π–Ω—ã–π –≤–¥–æ—Ö, –Ω–µ–±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫ –∑–∞–±–æ—Ç—ã." />
    <style>
        :root {
            --bg1: #0b1020;
            --bg2: #1a1230;
            --card: rgba(255, 255, 255, .08);
            --card2: rgba(255, 255, 255, .12);
            --text: rgba(255, 255, 255, .92);
            --muted: rgba(255, 255, 255, .70);
            --accent1: #ff6fb7;
            --accent2: #7dd3fc;
            --accent3: #a78bfa;
            --shadow: 0 20px 60px rgba(0, 0, 0, .45);
            --radius: 20px;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%
        }

        body {
            margin: 0;
            font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
            color: var(--text);
            overflow-x: hidden;
            background: transparent;
        }

        /* Scroll-safe background layer */
        .bg {
            position: fixed;
            inset: 0;
            z-index: -3;
            pointer-events: none;
            background: radial-gradient(1200px 700px at 20% 10%, rgba(255, 111, 183, .18), transparent 60%),
                radial-gradient(900px 600px at 80% 20%, rgba(125, 211, 252, .14), transparent 55%),
                radial-gradient(900px 700px at 60% 80%, rgba(167, 139, 250, .14), transparent 60%),
                linear-gradient(160deg, var(--bg1), var(--bg2));
        }

        /* floating stars (scroll-safe) */
        .stars,
        .stars:before,
        .stars:after {
            content: "";
            position: fixed;
            inset: -80px;
            /* biraz b√ºy√ºk tutuyoruz ki bo≈üluk olmasƒ±n */
            pointer-events: none;
            opacity: .35;

            background-repeat: repeat;
            background-size: 420px 420px;
            background-image:
                radial-gradient(2px 2px at 20% 30%, rgba(255, 255, 255, .9), transparent 60%),
                radial-gradient(1.6px 1.6px at 60% 10%, rgba(255, 255, 255, .7), transparent 60%),
                radial-gradient(1.2px 1.2px at 80% 40%, rgba(255, 255, 255, .6), transparent 60%),
                radial-gradient(1.8px 1.8px at 30% 75%, rgba(255, 255, 255, .75), transparent 60%),
                radial-gradient(1.4px 1.4px at 70% 85%, rgba(255, 255, 255, .65), transparent 60%);

            animation: starDrift 26s linear infinite;
        }

        .stars:before {
            opacity: .22;
            filter: blur(0.2px);
            background-size: 560px 560px;
            animation-duration: 40s;
        }

        .stars:after {
            opacity: .18;
            filter: blur(0.6px);
            background-size: 760px 760px;
            animation-duration: 65s;
        }

        @keyframes starDrift {
            from {
                background-position: 0 0;
            }

            to {
                background-position: 0 200px;
            }
        }

        .wrap {
            position: relative;
            max-width: 980px;
            margin: 0 auto;
            padding: 28px 18px 60px;
        }

        header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 16px;
            margin-top: 10px;
            margin-bottom: 18px;
        }

        .badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 12px;
            border-radius: 999px;
            background: rgba(255, 255, 255, .08);
            border: 1px solid rgba(255, 255, 255, .10);
            box-shadow: 0 10px 30px rgba(0, 0, 0, .25);
            backdrop-filter: blur(10px);
            font-size: 13px;
            color: var(--muted);
            user-select: none;
        }

        h1 {
            margin: 8px 0 6px;
            font-size: clamp(26px, 3.6vw, 40px);
            line-height: 1.05;
            letter-spacing: -0.02em;
        }

        .sub {
            margin: 0;
            color: var(--muted);
            font-size: 15px;
            max-width: 68ch;
        }

        .grid {
            display: grid;
            grid-template-columns: 1.05fr .95fr;
            gap: 14px;
            margin-top: 18px;
        }

        @media (max-width: 860px) {
            .grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: linear-gradient(180deg, rgba(255, 255, 255, .10), rgba(255, 255, 255, .06));
            border: 1px solid rgba(255, 255, 255, .12);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            backdrop-filter: blur(12px);
            padding: 16px;
        }

        .card h2 {
            margin: 0 0 10px;
            font-size: 16px;
            letter-spacing: .01em;
            color: rgba(255, 255, 255, .92);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .muted {
            color: var(--muted);
            font-size: 14px;
            line-height: 1.5;
        }

        .pillRow {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .pill {
            padding: 10px 12px;
            border-radius: 999px;
            background: rgba(255, 255, 255, .08);
            border: 1px solid rgba(255, 255, 255, .10);
            cursor: pointer;
            user-select: none;
            transition: transform .15s ease, background .15s ease, border-color .15s ease;
            font-size: 13px;
            color: rgba(255, 255, 255, .85);
        }

        .pill:hover {
            transform: translateY(-1px);
            background: rgba(255, 255, 255, .11);
        }

        .pill.active {
            background: rgba(255, 111, 183, .18);
            border-color: rgba(255, 111, 183, .35);
        }

        /* Surprise picker */
        .pickGrid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        @media (max-width: 520px) {
            .pickGrid {
                grid-template-columns: 1fr;
            }
        }

        .pickBtn {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            padding: 12px;
            border-radius: 14px;
            background: rgba(0, 0, 0, .18);
            border: 1px solid rgba(255, 255, 255, .10);
            cursor: pointer;
            user-select: none;
            transition: transform .15s ease, background .15s ease, border-color .15s ease;
        }

        .pickBtn:hover {
            transform: translateY(-1px);
            background: rgba(0, 0, 0, .22);
        }

        .pickBtn.active {
            border-color: rgba(125, 211, 252, .45);
            background: rgba(125, 211, 252, .10);
        }

        .pickTitle {
            font-weight: 800;
            font-size: 14px;
            line-height: 1.2;
        }

        .pickHint {
            font-size: 12px;
            color: var(--muted);
            margin-top: 2px;
            line-height: 1.25;
        }

        .pickIcon {
            font-size: 18px;
            opacity: .95;
            flex: 0 0 auto;
        }

        .pickPreview {
            margin-top: 10px;
            padding: 12px;
            border-radius: 14px;
            background: rgba(255, 255, 255, .06);
            border: 1px solid rgba(255, 255, 255, .10);
        }

        .pickPreview .label {
            font-size: 12px;
            color: var(--muted);
            margin-bottom: 6px;
        }

        .pickPreview .value {
            font-size: 14px;
            color: rgba(255, 255, 255, .92);
            line-height: 1.45;
        }

        .pickActions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .pickActions button {
            flex: 1 1 160px;
        }

        .smallNote {
            margin-top: 8px;
            font-size: 12px;
            color: rgba(255, 255, 255, .55);
            line-height: 1.35;
        }

        /* Left column filler: Comfort Corner */
        .comfortCorner {
            margin-top: 14px;
            padding: 14px;
            border-radius: 16px;
            background: linear-gradient(180deg, rgba(255, 255, 255, .09), rgba(255, 255, 255, .05));
            border: 1px solid rgba(255, 255, 255, .12);
        }

        .comfortGrid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        @media (max-width: 520px) {
            .comfortGrid {
                grid-template-columns: 1fr;
            }
        }

        .miniPanel {
            padding: 12px;
            border-radius: 14px;
            background: rgba(0, 0, 0, .18);
            border: 1px solid rgba(255, 255, 255, .10);
        }

        .miniTitle {
            font-weight: 800;
            font-size: 13px;
            margin: 0 0 6px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .miniText {
            font-size: 13px;
            color: var(--muted);
            line-height: 1.4;
        }

        .timerValue {
            margin-top: 8px;
            font-size: 28px;
            font-weight: 900;
            letter-spacing: .02em;
            text-align: center;
            color: rgba(255, 255, 255, .92);
        }

        .miniBtns {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 10px;
            justify-content: center;
        }

        .miniBtns button {
            flex: 1 1 120px;
        }

        .joyCard {
            margin-top: 8px;
            padding: 10px;
            border-radius: 12px;
            background: rgba(255, 255, 255, .06);
            border: 1px solid rgba(255, 255, 255, .10);
        }

        .joyBig {
            font-size: 14px;
            color: rgba(255, 255, 255, .92);
            line-height: 1.45;
        }

        .joySmall {
            margin-top: 6px;
            font-size: 12px;
            color: rgba(255, 255, 255, .60);
            line-height: 1.35;
        }

        .hugBtn {
            width: 100%;
        }

        .hugHint {
            margin-top: 8px;
            font-size: 12px;
            color: rgba(255, 255, 255, .55);
            line-height: 1.35;
            text-align: center;
        }

        .floatHeart {
            position: fixed;
            left: var(--x);
            top: var(--y);
            font-size: var(--s);
            opacity: 0;
            pointer-events: none;
            z-index: 9999;
            filter: drop-shadow(0 8px 18px rgba(0,0,0,.45));
            animation: floatUp 1400ms ease-out forwards;
        }

        @keyframes floatUp {
            0% {
                transform: translate(-50%, 0) scale(.9);
                opacity: 0;
            }
            15% {
                opacity: .95;
            }
            100% {
                transform: translate(-50%, -120px) scale(1.08);
                opacity: 0;
            }
        }

        .doneGlow {
            box-shadow: 0 0 0 1px rgba(125, 211, 252, .18), 0 0 40px rgba(125, 211, 252, .15);
        }

        /* Breathing orb */
        .breathBox {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 16px;
            padding: 6px 0 12px;
        }

        .orbWrap {
            position: relative;
            width: 220px;
            height: 220px;
            display: grid;
            place-items: center;
            margin: 6px auto 10px;
        }

        .orb {
            width: 150px;
            height: 150px;
            border-radius: 999px;
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, .35), transparent 45%),
                radial-gradient(circle at 70% 70%, rgba(125, 211, 252, .25), transparent 55%),
                radial-gradient(circle at 40% 70%, rgba(255, 111, 183, .25), transparent 55%),
                linear-gradient(135deg, rgba(167, 139, 250, .55), rgba(255, 111, 183, .45));
            box-shadow:
                0 0 0 10px rgba(255, 255, 255, .04),
                0 0 70px rgba(167, 139, 250, .22),
                0 0 90px rgba(255, 111, 183, .16);
            transform: scale(1);
            transition: transform .2s ease;
            animation: breathe 8s ease-in-out infinite;
        }

        .ring {
            position: absolute;
            inset: 0;
            border-radius: 999px;
            border: 1px dashed rgba(255, 255, 255, .18);
            opacity: .6;
            animation: spin 18s linear infinite;
        }

        .ring2 {
            position: absolute;
            inset: 18px;
            border-radius: 999px;
            border: 1px dashed rgba(255, 255, 255, .12);
            opacity: .45;
            animation: spin 28s linear reverse infinite;
        }

        @keyframes breathe {
            0% {
                transform: scale(0.92);
                filter: brightness(0.95);
            }

            25% {
                transform: scale(1.05);
                filter: brightness(1.05);
            }

            50% {
                transform: scale(1.00);
                filter: brightness(1.0);
            }

            75% {
                transform: scale(1.06);
                filter: brightness(1.06);
            }

            100% {
                transform: scale(0.92);
                filter: brightness(0.95);
            }
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .breathText {
            text-align: center;
            margin-top: 6px;
            font-size: 14px;
            color: var(--muted);
        }

        .breathLine {
            font-size: 18px;
            color: rgba(255, 255, 255, .92);
            margin-top: 10px;
            text-align: center;
            letter-spacing: .01em;
        }

        .btnRow {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 12px;
        }

        button {
            appearance: none;
            border: 1px solid rgba(255, 255, 255, .14);
            background: rgba(255, 255, 255, .08);
            color: rgba(255, 255, 255, .9);
            padding: 10px 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: transform .15s ease, background .15s ease, border-color .15s ease;
            font-weight: 600;
            letter-spacing: .01em;
        }

        button:hover {
            transform: translateY(-1px);
            background: rgba(255, 255, 255, .11);
        }

        button.primary {
            border-color: rgba(255, 111, 183, .35);
            background: rgba(255, 111, 183, .16);
        }

        /* checklist */
        .checks {
            display: grid;
            gap: 10px;
            margin-top: 10px;
        }

        .check {
            display: flex;
            gap: 10px;
            align-items: flex-start;
            padding: 12px;
            border-radius: 14px;
            background: rgba(0, 0, 0, .18);
            border: 1px solid rgba(255, 255, 255, .10);
        }

        .box {
            width: 18px;
            height: 18px;
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, .20);
            background: rgba(255, 255, 255, .06);
            flex: 0 0 18px;
            margin-top: 2px;
            display: grid;
            place-items: center;
            font-size: 12px;
        }

        .check.done .box {
            background: rgba(125, 211, 252, .20);
            border-color: rgba(125, 211, 252, .35);
        }

        .checkTitle {
            font-weight: 700;
            font-size: 14px;
        }

        .checkDesc {
            font-size: 13px;
            color: var(--muted);
            margin-top: 2px;
            line-height: 1.35;
        }

        /* note */
        .note {
            margin-top: 12px;
            padding: 14px;
            border-radius: 16px;
            background: linear-gradient(180deg, rgba(255, 255, 255, .09), rgba(255, 255, 255, .05));
            border: 1px solid rgba(255, 255, 255, .12);
        }

        .note p {
            margin: 0;
            color: rgba(255, 255, 255, .9);
            line-height: 1.55;
            font-size: 14px;
        }

        .sig {
            margin-top: 10px;
            color: var(--muted);
            font-size: 13px;
        }

        footer {
            margin-top: 18px;
            text-align: center;
            color: rgba(255, 255, 255, .55);
            font-size: 12px;
        }

        /* Warm mode */
        body.warm {
            background: transparent;
        }

        body.warm .bg {
            background: radial-gradient(1200px 700px at 20% 10%, rgba(255, 173, 106, .18), transparent 60%),
                radial-gradient(900px 600px at 80% 20%, rgba(255, 111, 183, .14), transparent 55%),
                radial-gradient(900px 700px at 60% 80%, rgba(167, 139, 250, .12), transparent 60%),
                linear-gradient(160deg, #160b0b, #2a1220);
        }

        body.warm .orb {
            background:
                radial-gradient(circle at 30% 30%, rgba(255, 255, 255, .35), transparent 45%),
                radial-gradient(circle at 70% 70%, rgba(255, 173, 106, .25), transparent 55%),
                radial-gradient(circle at 40% 70%, rgba(255, 111, 183, .25), transparent 55%),
                linear-gradient(135deg, rgba(255, 173, 106, .55), rgba(255, 111, 183, .45));
            box-shadow:
                0 0 0 10px rgba(255, 255, 255, .04),
                0 0 70px rgba(255, 173, 106, .20),
                0 0 90px rgba(255, 111, 183, .14);
        }
    </style>
</head>

<body>
    <div class="bg" aria-hidden="true"></div>
    <div class="stars" aria-hidden="true"></div>

    <div class="wrap">
        <header>
            <div>
                <div class="badge">üåô ¬´–†–µ–∂–∏–º —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è¬ª ¬∑ –û–±—ä—è—Ç–∏–µ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏</div>
                <h1>–ü—Ä–∏–≤–µ—Ç <span id="name">Angelika</span>‚Ä¶ ü§ç</h1>
                <p class="sub">
                    –ë—É–¥—å —Å–µ–≥–æ–¥–Ω—è –∫ —Å–µ–±–µ –¥–æ–±—Äa. –¢–µ–±–µ –Ω–µ –Ω—É–∂–Ω–æ ¬´—Ä–µ—à–∞—Ç—å¬ª —ç—Ç–æ.
                    –ü—Ä–æ—Å—Ç–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å ‚Äî —É–∂–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ.
                </p>
            </div>
            <div class="badge" id="dateBadge">üìÖ</div>
        </header>

        <div class="grid">
            <!-- LEFT -->
            <section class="card">
                <h2>ü´ß 60 —Å–µ–∫—É–Ω–¥ —É—Å–ø–æ–∫–æ–µ–Ω–∏—è</h2>

                <div class="orbWrap" role="img" aria-label="–ê–Ω–∏–º–∞—Ü–∏—è –¥—ã—Ö–∞–Ω–∏—è">
                    <div class="ring"></div>
                    <div class="ring2"></div>
                    <div class="orb" id="orb"></div>
                </div>

                <div class="breathLine" id="breathLine">–í–¥–æ—Ö‚Ä¶</div>
                <div class="breathText" id="breathText">–í–¥–æ—Ö 4 —Å ¬∑ –∑–∞–¥–µ—Ä–∂–∫–∞ 4 —Å ¬∑ –≤—ã–¥–æ—Ö 6 —Å (–º—è–≥–∫–æ)</div>

                <div class="btnRow">
                    <button class="primary" id="toggleBreath">–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥—ã—Ö–∞—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</button>
                    <button id="toggleWarm">–¢—ë–ø–ª—ã–π —Ä–µ–∂–∏–º ‚òï</button>
                    <button id="toggleSound">–ó–≤—É–∫: –í–´–ö–õ üîá</button>
                </div>

                <div class="note" style="margin-top:14px">
                    <p id="miniMessage">
                        ¬´–î–∞–∂–µ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ —è —Ä—è–¥–æ–º. –°–µ–≥–æ–¥–Ω—è —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ–±—ã —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è.¬ª
                    </p>
                    <div class="sig">‚Äî –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–ø–∏—Å–∫–∞ –æ—Ç –°–∞–º–µ—Ç–∞ ü§ç</div>
                </div>

                <div class="comfortCorner" id="comfortCorner">
                    <h2 style="margin:0 0 6px; font-size:16px; display:flex; align-items:center; gap:10px;">‚ú® –£–≥–æ–ª–æ–∫ —É—é—Ç–∞</h2>
                    <p class="muted" style="margin:0">–ù–∏–∫–∞–∫–æ–π ¬´–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏¬ª. –¢–æ–ª—å–∫–æ –º–∞–ª–µ–Ω—å–∫–∏–µ –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–µ–ª–∞—é—Ç –ª–µ–≥—á–µ.</p>

                    <div class="comfortGrid">
                        <div class="miniPanel" id="teaTimerPanel">
                            <div class="miniTitle">‚è≥ –¢–∞–π–º–µ—Ä 5 –º–∏–Ω—É—Ç</div>
                            <div class="miniText">–î–ª—è —Ç—ë–ø–ª–æ–≥–æ –Ω–∞–ø–∏—Ç–∫–∞ / –≥—Ä–µ–ª–∫–∏ / –ø—Ä–æ—Å—Ç–æ –∑–∞–∫—Ä—ã—Ç—å –≥–ª–∞–∑–∞.</div>
                            <div class="timerValue" id="timerValue">05:00</div>
                            <div class="miniBtns">
                                <button id="timerStart" class="primary">–°—Ç–∞—Ä—Ç</button>
                                <button id="timerReset">–°–±—Ä–æ—Å</button>
                            </div>
                        </div>

                        <div class="miniPanel" id="joyPanel">
                            <div class="miniTitle">üçì –ú–∞–ª–µ–Ω—å–∫–∞—è —Ä–∞–¥–æ—Å—Ç—å</div>
                            <div class="miniText">–ù–∞–∂–º–∏ ‚Äî –∏ –ø–æ–ª—É—á–∏—à—å –æ–¥–Ω—É –º—è–≥–∫—É—é –º—ã—Å–ª—å.</div>
                            <div class="joyCard">
                                <div class="joyBig" id="joyBig">–ù–∞–∂–º–∏ ¬´–ï—â—ë¬ª ‚ú®</div>
                                <div class="joySmall" id="joySmall">–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–¥–µ—Ä–∂–∫–∞. –ù–∏–∫–∞–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π.</div>
                            </div>
                            <div class="miniBtns">
                                <button id="joyNext" class="primary">–ï—â—ë</button>
                                <button id="joyCopy">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top:10px">
                        <button id="hugNow" class="hugBtn">ü´∂ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–±—ä—è—Ç–∏–µ</button>
                        <div class="hugHint">–ù–∞–∂–º–∏ –∏ —Å–º–æ—Ç—Ä–∏ ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–µ —Å–µ—Ä–¥–µ—á–∫–∏ –ø–æ–¥–Ω–∏–º—É—Ç—Å—è –≤–≤–µ—Ä—Ö. (–≠—Ç–æ –Ω–µ –∑–≤—É–∫ –∏ –Ω–µ —Ç–∞–π–º–µ—Ä, –ø—Ä–æ—Å—Ç–æ –º–∏–ª–æ—Ç–∞.)</div>
                    </div>
                </div>
            </section>

            <!-- RIGHT -->
            <aside class="card">
                <h2>üß∏ –ú–∏–Ω–∏‚Äë—Å–ø–∏—Å–æ–∫ –∑–∞–±–æ—Ç—ã –≤–æ –≤—Ä–µ–º—è –ü–ú–°</h2>
                <p class="muted">–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –≤—ã–±–µ—Ä–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ. –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—Å—ë.</p>

                <div class="checks" id="checks">
                    <div class="check" data-i="0">
                        <div class="box">‚úì</div>
                        <div>
                            <div class="checkTitle">–í—ã–ø–µ–π —á—Ç–æ‚Äë—Ç–æ —Ç—ë–ø–ª–æ–µ</div>
                            <div class="checkDesc">–ß–∞–π, —Ç—ë–ø–ª–∞—è –≤–æ–¥–∞, –≥–æ—Ä—è—á–∏–π —à–æ–∫–æ–ª–∞–¥‚Ä¶ —á—Ç–æ —Ç–µ–±–µ –±–æ–ª—å—à–µ –ø–æ –¥—É—à–µ.</div>
                        </div>
                    </div>

                    <div class="check" data-i="1">
                        <div class="box">‚úì</div>
                        <div>
                            <div class="checkTitle">–ü—Ä–∏–ª–æ–∂–∏ —Ç–µ–ø–ª–æ –∫ –∂–∏–≤–æ—Ç—É</div>
                            <div class="checkDesc">–ì—Ä–µ–ª–∫–∞ / —Ç–µ—Ä–º–æ—Ñ–æ—Ä, –µ—Å–ª–∏ –µ—Å—Ç—å ‚Äî –æ—Ç–ª–∏—á–Ω–æ.</div>
                        </div>
                    </div>

                    <div class="check" data-i="2">
                        <div class="box">‚úì</div>
                        <div>
                            <div class="checkTitle">–ù–µ–±–æ–ª—å—à–∞—è –ø—Ä–æ–≥—É–ª–∫–∞ –∏–ª–∏ —Ä–∞—Å—Ç—è–∂–∫–∞</div>
                            <div class="checkDesc">–î–∞–∂–µ 2‚Äì5 –º–∏–Ω—É—Ç –º–æ–≥—É—Ç –ø–æ–º–æ—á—å.</div>
                        </div>
                    </div>

                    <div class="check" data-i="3">
                        <div class="box">‚úì</div>
                        <div>
                            <div class="checkTitle">–û—Ç–ª–æ–∂–∏ —Ç–µ–ª–µ—Ñ–æ–Ω</div>
                            <div class="checkDesc">–î–∞–π –æ—Ç–¥–æ—Ö–Ω—É—Ç—å –≥–ª–∞–∑–∞–º. –î–∞–∂–µ —Å–≤–µ—Ç –∏–Ω–æ–≥–¥–∞ —É—Ç–æ–º–ª—è–µ—Ç.</div>
                        </div>
                    </div>

                    <div class="check" data-i="4">
                        <div class="box">‚úì</div>
                        <div>
                            <div class="checkTitle">–ì–æ–≤–æ—Ä–∏ —Å —Å–æ–±–æ–π –ø–æ‚Äë–¥–æ–±—Ä–µ–π</div>
                            <div class="checkDesc">–û—â—É—â–µ–Ω–∏–µ –≤–∑–¥—É—Ç–∏—è/–æ—Ç—ë–∫–∞ –Ω–æ—Ä–º–∞–ª—å–Ω—ã. –ù–µ –±—É–¥—å —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∞ –∫ —Å–µ–±–µ
                                —Å–µ–≥–æ–¥–Ω—è.</div>
                        </div>
                    </div>
                </div>

                <div class="pillRow" style="margin-top:12px">
                    <div class="pill" data-msg="0">ü§ç ¬´–Ø —Ä—è–¥–æ–º¬ª</div>
                    <div class="pill" data-msg="1">üåø ¬´–†–µ–∂–∏–º —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è¬ª</div>
                    <div class="pill" data-msg="2">ü´∂ ¬´–û–±—ä—è—Ç–∏–µ¬ª</div>
                    <div class="pill" data-msg="3">‚ú® ¬´–°–∏–ª—å–Ω–∞—è¬ª</div>
                </div>

                <div class="note">
                    <p id="altMessage">–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –ø–æ–≥–æ–≤–æ—Ä–∏–º, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ. –°–µ–≥–æ–¥–Ω—è ‚Äî —Ç–≤–æ–π –¥–µ–Ω—å.</p>
                </div>

                <div class="note" style="margin-top:12px">
                    <h2 style="margin:0 0 8px; font-size:16px; display:flex; align-items:center; gap:10px;">üéÅ –í—ã–±–µ—Ä–∏
                        –º–∏–Ω–∏‚Äë—Å—é—Ä–ø—Ä–∏–∑</h2>
                    <p class="muted" style="margin:0">–ü—É—Å—Ç—å –≤—ã–±–µ—Ä–µ—Ç –æ–¥–Ω–æ; —Ç—ã –ø–æ–¥—Å—Ç—Ä–æ–∏—à—å —Å—é—Ä–ø—Ä–∏–∑ –ø–æ–¥ —ç—Ç–æ. (–î–∞–∂–µ –µ—Å–ª–∏ –≤—ã
                        –¥–∞–ª–µ–∫–æ.)</p>

                    <div class="pickGrid" id="pickGrid">
                        <div class="pickBtn" data-pick="flowers">
                            <div>
                                <div class="pickTitle">–¶–≤–µ—Ç—ã</div>
                                <div class="pickHint">–ù–µ–±–æ–ª—å—à–æ–π –±—É–∫–µ—Ç –∏–ª–∏ –æ–¥–∏–Ω —Ü–≤–µ—Ç–æ–∫</div>
                            </div>
                            <div class="pickIcon">üíê</div>
                        </div>

                        <div class="pickBtn" data-pick="chocolate">
                            <div>
                                <div class="pickTitle">–®–æ–∫–æ–ª–∞–¥</div>
                                <div class="pickHint">–õ—é–±–∏–º–∞—è –º–∞—Ä–∫–∞ / —Ç—ë–º–Ω—ã–π –∏–ª–∏ –º–æ–ª–æ—á–Ω—ã–π</div>
                            </div>
                            <div class="pickIcon">üç´</div>
                        </div>

                        <div class="pickBtn" data-pick="tea">
                            <div>
                                <div class="pickTitle">–¢—ë–ø–ª—ã–π –Ω–∞–ø–∏—Ç–æ–∫</div>
                                <div class="pickHint">–†–æ–º–∞—à–∫–∞ / –∫–∞–∫–∞–æ / –∫–æ—Ñ–µ</div>
                            </div>
                            <div class="pickIcon">‚òï</div>
                        </div>

                        <div class="pickBtn" data-pick="movie">
                            <div>
                                <div class="pickTitle">–†–µ–∂–∏–º —Ñ–∏–ª—å–º–∞</div>
                                <div class="pickHint">–°–æ–≤–º–µ—Å—Ç–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä + –ø–µ—Ä–µ–∫—É—Å</div>
                            </div>
                            <div class="pickIcon">üé¨</div>
                        </div>

                        <div class="pickBtn" data-pick="care">
                            <div>
                                <div class="pickTitle">–ü–∞–∫–µ—Ç –∑–∞–±–æ—Ç—ã</div>
                                <div class="pickHint">–¢–µ—Ä–º–æ–≥—Ä–µ–ª–∫–∞ + —É—é—Ç–Ω—ã–µ –≤–µ—â–∏</div>
                            </div>
                            <div class="pickIcon">üß∏</div>
                        </div>

                        <div class="pickBtn" data-pick="hug">
                            <div>
                                <div class="pickTitle">–û–±—ä—è—Ç–∏–µ</div>
                                <div class="pickHint">–ü—Ä–æ—Å—Ç–æ –ª—é–±–æ–≤—å –∏ —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ</div>
                            </div>
                            <div class="pickIcon">ü´∂</div>
                        </div>
                    </div>

                    <div class="pickPreview">
                        <div class="label">–í—ã–±—Ä–∞–Ω–æ:</div>
                        <div class="value" id="pickPreview">–ü–æ–∫–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ</div>
                    </div>

                    <div class="pickActions">
                        <button id="sharePick" class="primary">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤—ã–±–æ—Ä–æ–º</button>
                        <button id="sendTelegram">–ù–∞–ø–∏—à–∏ –º–Ω–µ –≤ Telegram</button>
                    </div>
                </div>
            </aside>
        </div>

        <footer>
            –≠—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ‚Äî –Ω–µ –¥–ª—è –¥–∞–≤–ª–µ–Ω–∏—è, –∞ –¥–ª—è —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—è. üåô
        </footer>
    </div>


    <!-- Optional super-soft background sound (works after user interaction) -->
    <audio id="bgAudio" loop preload="auto">
        <!-- Tiny, safe, simple tone generated via WebAudio instead of external file -->
    </audio>

    <script>
        // Date badge
        const dateBadge = document.getElementById('dateBadge');
        const now = new Date();
        dateBadge.textContent = "üìÖ " + now.toLocaleDateString(undefined, { weekday: "short", year: "numeric", month: "short", day: "numeric" });

        // Checklist toggles
        document.getElementById('checks').addEventListener('click', (e) => {
            const item = e.target.closest('.check');
            if (!item) return;
            item.classList.toggle('done');
            item.querySelector('.box').textContent = item.classList.contains('done') ? "‚úì" : "‚úì";
            saveChecks();
        });

        function saveChecks() {
            const states = [...document.querySelectorAll('.check')].map(x => x.classList.contains('done'));
            localStorage.setItem('care_checks', JSON.stringify(states));
        }
        function loadChecks() {
            try {
                const states = JSON.parse(localStorage.getItem('care_checks') || "[]");
                document.querySelectorAll('.check').forEach((el, i) => {
                    if (states[i]) el.classList.add('done');
                });
            } catch { }
        }
        loadChecks();

        // Message pills
        const miniMessage = document.getElementById('miniMessage');
        const altMessage = document.getElementById('altMessage');
        const pills = document.querySelectorAll('.pill');

        const messages = [
            {
                a: "¬´–î–∞–∂–µ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ —è —Ä—è–¥–æ–º. –°–µ–≥–æ–¥–Ω—è —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á—å—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ–±—ã —Ä–∞—Å—Å–ª–∞–±–∏—Ç—å—Å—è.¬ª",
                b: "–ï—Å–ª–∏ —Ö–æ—á–µ—à—å ‚Äî –ø–æ–≥–æ–≤–æ—Ä–∏–º, –µ—Å–ª–∏ –Ω–µ—Ç ‚Äî –Ω–∏—á–µ–≥–æ —Å—Ç—Ä–∞—à–Ω–æ–≥–æ. –°–µ–≥–æ–¥–Ω—è ‚Äî —Ç–≤–æ–π –¥–µ–Ω—å."
            },
            {
                a: "¬´–°–µ–π—á–∞—Å –≤—Å—ë –º–æ–∂–µ—Ç –∫–∞–∑–∞—Ç—å—Å—è —Ç—è–∂—ë–ª—ã–º. –°–¥–µ–ª–∞–π –≤–¥–æ—Ö‚Ä¶ —ç—Ç–æ –ø—Ä–æ–π–¥—ë—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ.¬ª",
                b: "–í—ã–ø–µ–π —á—Ç–æ‚Äë—Ç–æ —Ç—ë–ø–ª–æ–µ, –Ω–µ–º–Ω–æ–≥–æ –æ—Ç–¥–æ—Ö–Ω–∏. –ù–µ –Ω–∞–≥—Ä—É–∂–∞–π —Å–µ–±—è ü§ç"
            },
            {
                a: "¬´–ü—Ä–µ–¥—Å—Ç–∞–≤—å –º–∞–ª–µ–Ω—å–∫–æ–µ –æ–±—ä—è—Ç–∏–µ: –æ—Ç –º–µ–Ω—è –∫ —Ç–µ–±–µ. (–î–∞, –∏ –Ω–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç.)¬ª",
                b: "–Ø —Ä—è–¥–æ–º. –ú–æ–∂–µ—Ç –±—ã—Ç—å —Ç–∏—Ö–æ –∏–ª–∏ –º–æ–∂–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç—å ‚Äî –∫–∞–∫ —Ç–µ–±–µ —É–¥–æ–±–Ω–µ–µ."
            },
            {
                a: "¬´–î–∞–∂–µ –≤ —Ç—Ä—É–¥–Ω—ã–µ –¥–Ω–∏ —Ç—ã —Å–∏–ª—å–Ω–∞. –°–µ–≥–æ–¥–Ω—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏ –º–∏–Ω–∏–º—É–º–∞.¬ª",
                b: "–ù–µ –æ—Å—É–∂–¥–∞–π —Å–µ–±—è. –¢–≤–æ—ë —Ç–µ–ª–æ –¥–µ–ª–∞–µ—Ç —Å–≤–æ—ë ‚ú®"
            }
        ];

        pills.forEach(p => {
            p.addEventListener('click', () => {
                pills.forEach(x => x.classList.remove('active'));
                p.classList.add('active');
                const idx = Number(p.dataset.msg);
                miniMessage.textContent = messages[idx].a;
                altMessage.textContent = messages[idx].b;
            });
        });

        // Warm mode
        const warmBtn = document.getElementById('toggleWarm');
        warmBtn.addEventListener('click', () => {
            document.body.classList.toggle('warm');
            warmBtn.textContent = document.body.classList.contains('warm') ? "–¢—ë–ø–ª—ã–π —Ä–µ–∂–∏–º ‚úÖ" : "–¢—ë–ø–ª—ã–π —Ä–µ–∂–∏–º ‚òï";
            localStorage.setItem('warm_mode', document.body.classList.contains('warm') ? "1" : "0");
        });
        if (localStorage.getItem('warm_mode') === "1") {
            document.body.classList.add('warm');
            warmBtn.textContent = "–¢—ë–ø–ª—ã–π —Ä–µ–∂–∏–º ‚úÖ";
        }

        // Breathing guide (text cues)
        const breathLine = document.getElementById('breathLine');
        const breathText = document.getElementById('breathText');
        const breathBtn = document.getElementById('toggleBreath');

        let breathTimer = null;
        let breathOn = false;

        const pattern = [
            { t: "–í–¥–æ—Ö‚Ä¶", d: 4000, hint: "–í–¥—ã—Ö–∞–π 4 —Å–µ–∫—É–Ω–¥—ã" },
            { t: "–ó–∞–¥–µ—Ä–∂–∏‚Ä¶", d: 4000, hint: "–ó–∞–¥–µ—Ä–∂–∏ –¥—ã—Ö–∞–Ω–∏–µ 4 —Å–µ–∫—É–Ω–¥—ã" },
            { t: "–í—ã–¥–æ—Ö‚Ä¶", d: 6000, hint: "–ú—è–≥–∫–æ –≤—ã–¥—ã—Ö–∞–π 6 —Å–µ–∫—É–Ω–¥" }
        ];

        function startBreath() {
            breathOn = true;
            breathBtn.textContent = "–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å";
            let i = 0;
            const run = () => {
                const step = pattern[i % pattern.length];
                breathLine.textContent = step.t;
                breathText.textContent = step.hint;
                breathTimer = setTimeout(() => { i++; run(); }, step.d);
            };
            run();
        }

        function stopBreath() {
            breathOn = false;
            breathBtn.textContent = "–ó–∞–ø—É—Å—Ç–∏—Ç—å –¥—ã—Ö–∞—Ç–µ–ª—å–Ω–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ";
            clearTimeout(breathTimer);
            breathTimer = null;
            breathLine.textContent = "–í–¥–æ—Ö‚Ä¶";
            breathText.textContent = "–í–¥–æ—Ö 4 —Å ¬∑ –∑–∞–¥–µ—Ä–∂–∫–∞ 4 —Å ¬∑ –≤—ã–¥–æ—Ö 6 —Å (–º—è–≥–∫–æ)";
        }

        breathBtn.addEventListener('click', () => {
            if (breathOn) stopBreath();
            else startBreath();
        });

        // Soothing ambient sound (3 levels) via WebAudio (no external files)
        const soundBtn = document.getElementById('toggleSound');
        let audioCtx = null;

        let noiseSrc = null;
        let gain = null;
        let filter = null;
        let lfo = null;
        let lfoGain = null;

        // 0=Off, 1=–¢–∏—Ö–æ, 2=–°—Ä–µ–¥–Ω–µ, 3=–ì—Ä–æ–º–∫–æ
        let soundLevel = Number(localStorage.getItem('sound_level') || "0");

        // Levels
        const LEVEL_GAIN = {
            1: 0.018,
            2: 0.032,
            3: 0.048
        };

        function ensureAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function createPinkNoiseBuffer(ctx, seconds = 2) {
            const sampleRate = ctx.sampleRate;
            const length = sampleRate * seconds;
            const buffer = ctx.createBuffer(1, length, sampleRate);
            const data = buffer.getChannelData(0);

            let b0 = 0, b1 = 0, b2 = 0, b3 = 0, b4 = 0, b5 = 0, b6 = 0;
            for (let i = 0; i < length; i++) {
                const white = Math.random() * 2 - 1;
                b0 = 0.99886 * b0 + white * 0.0555179;
                b1 = 0.99332 * b1 + white * 0.0750759;
                b2 = 0.96900 * b2 + white * 0.1538520;
                b3 = 0.86650 * b3 + white * 0.3104856;
                b4 = 0.55000 * b4 + white * 0.5329522;
                b5 = -0.7616 * b5 - white * 0.0168980;
                const pink = b0 + b1 + b2 + b3 + b4 + b5 + b6 + white * 0.5362;
                b6 = white * 0.115926;
                data[i] = (pink * 0.08);
            }
            return buffer;
        }

        function startNodes() {
            ensureAudio();

            noiseSrc = audioCtx.createBufferSource();
            noiseSrc.buffer = createPinkNoiseBuffer(audioCtx, 2);
            noiseSrc.loop = true;

            filter = audioCtx.createBiquadFilter();
            filter.type = "lowpass";
            filter.frequency.value = 520;
            filter.Q.value = 0.7;

            gain = audioCtx.createGain();
            gain.gain.value = 0.00001;

            // gentle wave
            lfo = audioCtx.createOscillator();
            lfo.type = "sine";
            lfo.frequency.value = 0.07;

            lfoGain = audioCtx.createGain();
            lfoGain.gain.value = 120;

            lfo.connect(lfoGain);
            lfoGain.connect(filter.frequency);

            noiseSrc.connect(filter);
            filter.connect(gain);
            gain.connect(audioCtx.destination);

            noiseSrc.start();
            lfo.start();
        }

        function stopNodes() {
            try { noiseSrc && noiseSrc.stop(); } catch { }
            try { lfo && lfo.stop(); } catch { }
            noiseSrc = null; filter = null; gain = null; lfo = null; lfoGain = null;
        }

        function setLevel(level) {
            soundLevel = level;
            localStorage.setItem('sound_level', String(soundLevel));

            if (soundLevel === 0) {
                soundBtn.textContent = "–ó–≤—É–∫: –í–´–ö–õ üîá";
                if (gain && audioCtx) {
                    const t = audioCtx.currentTime;
                    gain.gain.cancelScheduledValues(t);
                    gain.gain.setValueAtTime(gain.gain.value, t);
                    gain.gain.linearRampToValueAtTime(0.00001, t + 0.9);
                    setTimeout(() => stopNodes(), 950);
                } else {
                    stopNodes();
                }
                return;
            }

            if (!gain) startNodes();

            const target = LEVEL_GAIN[soundLevel] || LEVEL_GAIN[2];
            const t = audioCtx.currentTime;
            gain.gain.cancelScheduledValues(t);
            gain.gain.setValueAtTime(Math.max(gain.gain.value, 0.00001), t);
            gain.gain.linearRampToValueAtTime(target, t + 1.0);

            if (soundLevel === 1) soundBtn.textContent = "–ó–≤—É–∫: –¢–∏—Ö–æ üåô";
            if (soundLevel === 2) soundBtn.textContent = "–ó–≤—É–∫: –°—Ä–µ–¥–Ω–µ ‚òÅÔ∏è";
            if (soundLevel === 3) soundBtn.textContent = "–ó–≤—É–∫: –ì—Ä–æ–º–∫–æ ‚ú®";
        }

        soundBtn.addEventListener('click', async () => {
            ensureAudio();
            await audioCtx.resume();
            const next = (soundLevel + 1) % 4;
            setLevel(next);
        });

        if (soundLevel === 0) soundBtn.textContent = "–ó–≤—É–∫: –í–´–ö–õ üîá";
        if (soundLevel === 1) soundBtn.textContent = "–ó–≤—É–∫: –¢–∏—Ö–æ üåô";
        if (soundLevel === 2) soundBtn.textContent = "–ó–≤—É–∫: –°—Ä–µ–¥–Ω–µ ‚òÅÔ∏è";
        if (soundLevel === 3) soundBtn.textContent = "–ó–≤—É–∫: –ì—Ä–æ–º–∫–æ ‚ú®";

        const PICK_LABELS = {
            flowers: "–¶–≤–µ—Ç—ã üíê",
            chocolate: "–®–æ–∫–æ–ª–∞–¥ üç´",
            tea: "–¢—ë–ø–ª—ã–π –Ω–∞–ø–∏—Ç–æ–∫ ‚òï",
            movie: "–†–µ–∂–∏–º —Ñ–∏–ª—å–º–∞ üé¨",
            care: "–ü–∞–∫–µ—Ç –∑–∞–±–æ—Ç—ã üß∏",
            hug: "–û–±—ä—è—Ç–∏–µ ü´∂"
        };

        const pickGrid = document.getElementById('pickGrid');
        const pickPreview = document.getElementById('pickPreview');
        const sharePickBtn = document.getElementById('sharePick');
        const sendTelegramBtn = document.getElementById('sendTelegram');

        let selectedPick = localStorage.getItem('selected_pick') || "";

        function renderPick() {
            const buttons = pickGrid ? pickGrid.querySelectorAll('.pickBtn') : [];
            buttons.forEach(btn => btn.classList.toggle('active', btn.dataset.pick === selectedPick));
            if (selectedPick && PICK_LABELS[selectedPick]) pickPreview.textContent = PICK_LABELS[selectedPick] + " ‚Äî —Ö–æ—á—É —ç—Ç–æ —Å–µ–≥–æ–¥–Ω—è.";
            else pickPreview.textContent = "–ü–æ–∫–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ";
        }

        if (pickGrid) {
            pickGrid.addEventListener('click', (e) => {
                const btn = e.target.closest('.pickBtn');
                if (!btn) return;
                selectedPick = btn.dataset.pick;
                localStorage.setItem('selected_pick', selectedPick);
                renderPick();
            });
        }

        function buildPickMessage() {
            const who = (document.getElementById('name')?.textContent || 'Angelika').trim();
            const pick = selectedPick && PICK_LABELS[selectedPick] ? PICK_LABELS[selectedPick] : "(–Ω–µ –≤—ã–±—Ä–∞–Ω–æ)";
            const msg = `üíõ –ú–∏–Ω–∏‚Äë–≤—ã–±–æ—Ä –¥–ª—è ${who}\n–í—ã–±–æ—Ä: ${pick}\n\n–°–µ–≥–æ–¥–Ω—è –Ω–µ–º–Ω–æ–≥–æ –Ω–µ–∂–Ω–æ—Å—Ç–∏. ü§ç`;
            return { who, pick, msg };
        }

        if (sharePickBtn) {
            sharePickBtn.addEventListener('click', async () => {
                const { msg } = buildPickMessage();
                try {
                    if (navigator.share) {
                        await navigator.share({ title: '–í—ã–±–æ—Ä –º–∏–Ω–∏‚Äë—Å—é—Ä–ø—Ä–∏–∑–∞', text: msg });
                        return;
                    }
                } catch { }
                try {
                    await navigator.clipboard.writeText(msg);
                    sharePickBtn.textContent = "–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ";
                    setTimeout(() => sharePickBtn.textContent = "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –≤—ã–±–æ—Ä–æ–º", 1200);
                } catch { alert(msg); }
            });
        }

        const TELEGRAM_WEBHOOK_URL = "https://telegram.sametarabacitr.workers.dev/";

        if (sendTelegramBtn) {
            sendTelegramBtn.addEventListener('click', async () => {
                const { msg } = buildPickMessage();
                if (!TELEGRAM_WEBHOOK_URL) {
                    const url = `https://t.me/share/url?url=&text=${encodeURIComponent(msg)}`;
                    window.open(url, '_blank');
                    return;
                }
                sendTelegramBtn.textContent = "–û—Ç–ø—Ä–∞–≤–∫–∞‚Ä¶";
                try {
                    const res = await fetch(TELEGRAM_WEBHOOK_URL, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ text: msg }) });
                    if (!res.ok) throw new Error('Webhook error');
                    sendTelegramBtn.textContent = "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ ‚úÖ";
                    setTimeout(() => sendTelegramBtn.textContent = "–ù–∞–ø–∏—à–∏ –º–Ω–µ –≤ Telegram", 1400);
                } catch {
                    sendTelegramBtn.textContent = "–ù–µ —É–¥–∞–ª–æ—Å—å (–û—Ç–∫—Ä—ã—Ç —ç–∫—Ä–∞–Ω —à–∞—Ä–∏–Ω–≥–∞)";
                    const url = `https://t.me/share/url?url=&text=${encodeURIComponent(msg)}`;
                    window.open(url, '_blank');
                    setTimeout(() => sendTelegramBtn.textContent = "–ù–∞–ø–∏—à–∏ –º–Ω–µ –≤ Telegram", 1600);
                }
            });
        }

        renderPick();

        // Comfort Corner: 5-min timer + Joy cards + Virtual hug
        const timerValueEl = document.getElementById('timerValue');
        const timerStartBtn = document.getElementById('timerStart');
        const timerResetBtn = document.getElementById('timerReset');
        const teaTimerPanel = document.getElementById('teaTimerPanel');

        let timerTotal = 5 * 60; // seconds
        let timerLeft = timerTotal;
        let timerTick = null;
        let timerRunning = false;

        function fmtTime(s) {
            const mm = String(Math.floor(s / 60)).padStart(2, '0');
            const ss = String(s % 60).padStart(2, '0');
            return `${mm}:${ss}`;
        }

        function renderTimer() {
            if (timerValueEl) timerValueEl.textContent = fmtTime(timerLeft);
        }

        function stopTimer() {
            timerRunning = false;
            if (timerTick) clearInterval(timerTick);
            timerTick = null;
            if (timerStartBtn) timerStartBtn.textContent = '–°—Ç–∞—Ä—Ç';
        }

        function completeTimer() {
            stopTimer();
            timerLeft = timerTotal;
            renderTimer();

            // small glow
            if (teaTimerPanel) {
                teaTimerPanel.classList.add('doneGlow');
                setTimeout(() => teaTimerPanel.classList.remove('doneGlow'), 1600);
            }

            // gentle haptic (mobile)
            try { navigator.vibrate && navigator.vibrate(80); } catch { }

            // a few hearts
            burstHearts(10);
        }

        function startTimer() {
            if (timerRunning) {
                stopTimer();
                return;
            }
            timerRunning = true;
            if (timerStartBtn) timerStartBtn.textContent = '–ü–∞—É–∑–∞';
            timerTick = setInterval(() => {
                timerLeft = Math.max(0, timerLeft - 1);
                renderTimer();
                if (timerLeft === 0) completeTimer();
            }, 1000);
        }

        function resetTimer() {
            stopTimer();
            timerLeft = timerTotal;
            renderTimer();
        }

        if (timerStartBtn) timerStartBtn.addEventListener('click', startTimer);
        if (timerResetBtn) timerResetBtn.addEventListener('click', resetTimer);
        renderTimer();

        const joyNextBtn = document.getElementById('joyNext');
        const joyCopyBtn = document.getElementById('joyCopy');
        const joyBigEl = document.getElementById('joyBig');
        const joySmallEl = document.getElementById('joySmall');

        const JOYS = [
            { big: '–°–µ–≥–æ–¥–Ω—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏ –º–∏–Ω–∏–º—É–º–∞. –¢—ã –Ω–µ –æ–±—è–∑–∞–Ω–∞ –±—ã—Ç—å —Å–∏–ª—å–Ω–æ–π –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É.', small: '–ú—è–≥–∫–æ: –≤–æ–¥–∞, —Ç–µ–ø–ª–æ, –æ—Ç–¥—ã—Ö. –ò —ç—Ç–æ —É–∂–µ –∑–∞–±–æ—Ç–∞.' },
            { big: '–ï—Å–ª–∏ —Ç–µ–±–µ —Ö–æ—á–µ—Ç—Å—è —Ç–∏—à–∏–Ω—ã ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. –¢–∏—à–∏–Ω–∞ —Ç–æ–∂–µ –ª–µ—á–∏—Ç.', small: '–ú–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å. –ë–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π.' },
            { big: '–¢—ã –Ω–µ ¬´–ª–µ–Ω–∏—à—å—Å—è¬ª ‚Äî —Ç—ã –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—à—å—Å—è. –≠—Ç–æ –≤–∞–∂–Ω–æ.', small: '–û—Ç–¥—ã—Ö = —á–∞—Å—Ç—å —Å–∏–ª—ã.' },
            { big: '–í–∑–¥—É—Ç–∏–µ/—É—Å—Ç–∞–ª–æ—Å—Ç—å/—ç–º–æ—Ü–∏–∏ ‚Äî —ç—Ç–æ –Ω–µ ¬´—Ç—ã –ø–ª–æ—Ö–∞—è¬ª. –≠—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å.', small: '–ë—É–¥—å –∫ —Å–µ–±–µ –¥–æ–±—Ä–µ–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.' },
            { big: '–ü—É—Å—Ç—å —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç –¥–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö –ø–æ–±–µ–¥: –¥—É—à, —á–∞–π, –ø–ª–µ–¥.', small: '–ú–∞–ª–µ–Ω—å–∫–æ–µ ‚Äî —Ç–æ–∂–µ –±–æ–ª—å—à–æ–µ.' },
            { big: '–¢—ã –¥–æ—Å—Ç–æ–π–Ω–∞ –∑–∞–±–æ—Ç—ã –¥–∞–∂–µ –≤ —Å–∞–º—ã–µ —Å–ª–æ–∂–Ω—ã–µ –¥–Ω–∏.', small: '–ò –¥–∞ ‚Äî —ç—Ç–æ –ø—Ä–∞–≤–¥–∞.' },
            { big: '–°–¥–µ–ª–∞–π –æ–¥–∏–Ω –ª—ë–≥–∫–∏–π –≤—ã–±–æ—Ä: —Ç—ë–ø–ª–æ–µ, –º—è–≥–∫–æ–µ, —Å–ø–æ–∫–æ–π–Ω–æ–µ.', small: '–û—Å—Ç–∞–ª—å–Ω–æ–µ –ø–æ–¥–æ–∂–¥—ë—Ç.' }
        ];

        let lastJoy = -1;
        function nextJoy() {
            if (!joyBigEl || !joySmallEl) return;
            let idx = Math.floor(Math.random() * JOYS.length);
            if (JOYS.length > 1 && idx === lastJoy) idx = (idx + 1) % JOYS.length;
            lastJoy = idx;
            joyBigEl.textContent = JOYS[idx].big;
            joySmallEl.textContent = JOYS[idx].small;
        }

        async function copyJoy() {
            if (!joyBigEl || !joySmallEl || !joyCopyBtn) return;
            const text = `${joyBigEl.textContent}\n${joySmallEl.textContent}`;
            try {
                await navigator.clipboard.writeText(text);
                joyCopyBtn.textContent = '–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ ‚úÖ';
                setTimeout(() => joyCopyBtn.textContent = '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å', 1200);
            } catch {
                alert(text);
            }
        }

        if (joyNextBtn) joyNextBtn.addEventListener('click', () => { nextJoy(); burstHearts(6); });
        if (joyCopyBtn) joyCopyBtn.addEventListener('click', copyJoy);

        const hugBtn = document.getElementById('hugNow');
        if (hugBtn) hugBtn.addEventListener('click', () => burstHearts(18));

        function burstHearts(count = 10) {
            const emojis = ['ü§ç', 'üíó', 'üíñ', '‚ú®', 'üåô'];
            for (let i = 0; i < count; i++) {
                const el = document.createElement('div');
                el.className = 'floatHeart';
                const x = 12 + Math.random() * 76; // vw
                const y = 60 + Math.random() * 28; // vh
                const s = 16 + Math.random() * 18; // px
                el.style.setProperty('--x', x + 'vw');
                el.style.setProperty('--y', y + 'vh');
                el.style.setProperty('--s', s + 'px');
                el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                document.body.appendChild(el);
                setTimeout(() => el.remove(), 1500);
            }
        }

        // Change the name quickly if you want:
        // document.getElementById('name').textContent = "–ê–Ω–∂–µ–ª–∏–∫–∞";
    </script>
</body>

</html>